<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Class "sts" – surveillance time series — sts-class • surveillance</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Class " sts surveillance time series sts-class><meta name="description" content='

This is a lightweight S4 class to implement (multivariate) time
  series of counts, typically from public health surveillance.
  The "sts" class supersedes the informal "disProg" class
  used in early versions of package surveillance. Converters are
  available, see disProg2sts.
The constructor function sts can be used to setup an
  "sts" object.
  For areal time series, it can also capture a map
  of the regions, where the counts originate from.
  See Section &amp;#8220;Slots&amp;#8221; below for a description of all class
  components, and Section &amp;#8220;Methods&amp;#8221; for a list of extraction,
  conversion and visualization methods.'><meta property="og:description" content='

This is a lightweight S4 class to implement (multivariate) time
  series of counts, typically from public health surveillance.
  The "sts" class supersedes the informal "disProg" class
  used in early versions of package surveillance. Converters are
  available, see disProg2sts.
The constructor function sts can be used to setup an
  "sts" object.
  For areal time series, it can also capture a map
  of the regions, where the counts originate from.
  See Section &amp;#8220;Slots&amp;#8221; below for a description of all class
  components, and Section &amp;#8220;Methods&amp;#8221; for a list of extraction,
  conversion and visualization methods.'><!-- For Rd equations in pkgdown 2.1.0, see https://katex.org/docs/autorender.html --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous"></script><script>
  document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
          throwOnError: false,
          macros: {"\\code": "\\texttt"}
      })
  });
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">surveillance</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.25.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/pkgdown/overview.html">Overview</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/pkgdown/events.html">Events</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/pkgdown/bibliography.html">Bibliography</a></li>
      </ul><ul class="navbar-nav"></ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Class <code>"sts"</code> – surveillance time series</h1>

      <div class="d-none name"><code>sts-class.Rd</code></div>
    </div>

    <div class="ref-description section level2">


<p>This is a lightweight S4 class to implement (multivariate) time
  series of counts, typically from public health surveillance.
  The <code>"sts"</code> class supersedes the informal <code>"disProg"</code> class
  used in early versions of package <span class="pkg">surveillance</span>. Converters are
  available, see <code><a href="disProg2sts.html">disProg2sts</a></code>.</p>
<p>The constructor function <code>sts</code> can be used to setup an
  <code>"sts"</code> object.
  For areal time series, it can also capture a <code>map</code>
  of the regions, where the counts originate from.
  See Section “Slots” below for a description of all class
  components, and Section “Methods” for a list of extraction,
  conversion and visualization methods.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sts</span><span class="op">(</span><span class="va">observed</span>, start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2000</span>, <span class="fl">1</span><span class="op">)</span>, frequency <span class="op">=</span> <span class="fl">52</span>,</span>
<span>    epoch <span class="op">=</span> <span class="cn">NULL</span>, population <span class="op">=</span> <span class="cn">NULL</span>, map <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-observed">observed<a class="anchor" aria-label="anchor" href="#arg-observed"></a></dt>
<dd><p>a vector (for a single time series) or matrix (one
    time series per column) of counts. A purely numeric data frame will
    also do (transformed via <code>as.matrix</code>). This argument sets the
    <code>observed</code> slot, which is the core element of the resulting
    <code>"sts"</code> object. It determines the dimensions and colnames for
    several other slots. The columns (“units”) typically
    correspond to different regions, diseases, or age groups.</p></dd>

  <dt id="arg-start-frequency">start,frequency<a class="anchor" aria-label="anchor" href="#arg-start-frequency"></a></dt>
<dd><p>basic characteristics of the time series data
    just like for simple <code>"<a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a>"</code> objects. The (historical)
    default values correspond to weekly data starting in the first week
    of 2000. The <code>epoch</code> and <code>epochInYear</code> methods use the ISO
    8601 specification when converting between week numbers and dates,
    see <code><a href="isoWeekYear.html">isoWeekYear</a></code>.</p></dd>

  <dt id="arg-epoch">epoch<a class="anchor" aria-label="anchor" href="#arg-epoch"></a></dt>
<dd><p>observation times, either as an integer sequence (default)
    or as a <code>Date</code> vector (in which case <code>epochAsDate</code> is
    automatically set to <code>TRUE</code>).</p></dd>

  <dt id="arg-population">population<a class="anchor" aria-label="anchor" href="#arg-population"></a></dt>
<dd><p>the population sizes (or fractions) underlying the
    <code>observed</code> counts, especially relevant for multivariate time
    series (for incidence maps or as offsets in epidemic models).
    If assumed constant over time, <code>population</code> can be supplied as
    a vector of length the number of columns (regions, groups, etc.) in
    <code>observed</code>. Otherwise, <code>population</code> needs to be a matrix
    of the same <code><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></code>ension as <code>observed</code>. The
    <code>population</code> argument is an alias for the corresponding slot
    <code>populationFrac</code>. The default <code>NULL</code> value sets
    equal population fractions across all units.</p></dd>

  <dt id="arg-map">map<a class="anchor" aria-label="anchor" href="#arg-map"></a></dt>
<dd><p>optional spatial data representing the regions, either of
    class <code>"<a href="https://edzer.github.io/sp/reference/SpatialPolygons-class.html" class="external-link">SpatialPolygons</a>"</code>
    (or <code>"<a href="https://edzer.github.io/sp/reference/SpatialPolygonsDataFrame-class.html" class="external-link">SpatialPolygonsDataFrame</a>"</code>) or of class
    <code>"<a href="https://r-spatial.github.io/sf/reference/sf.html" class="external-link">sf</a>"</code> (requires package <a href="https://CRAN.R-project.org/package=sf" class="external-link"><span class="pkg">sf</span></a>).
    Its <code><a href="https://rdrr.io/r/base/row.names.html" class="external-link">row.names()</a></code> must contain the region IDs to be matched
    against <code>colnames(observed)</code>.</p></dd>

  <dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>further named arguments with names corresponding to slot
    names (see the list below). For instance, in the public health surveillance context,
    the <code>state</code> slot is used to indicate outbreaks (default:
    <code>FALSE</code> for all observations). For areal time series data, the
    <code>map</code> and <code>neighbourhood</code> slots are used to store the
    spatial structure of the observation region.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="slots">Slots<a class="anchor" aria-label="anchor" href="#slots"></a></h2>
    <p></p><dl><dt><code>epoch</code>:</dt>
<dd><p>a numeric vector specifying
      the time of observation, typically a week index. Depending on
      the <code>freq</code> slot, it could also index days or months.
      Furthermore, if <code>epochAsDate=TRUE</code> then <code>epoch</code>
      is the integer representation of <code><a href="https://rdrr.io/r/base/Dates.html" class="external-link">Date</a></code>s
      giving the exact date of the observation.</p></dd>

    <dt><code>freq</code>:</dt>
<dd><p>number of observations per year, e.g.,
      52 for weekly data, 12 for monthly data.</p></dd>

    <dt><code>start</code>:</dt>
<dd><p>vector of length two denoting the year and the
      sample number (week, month, etc.) of the first observation.</p></dd>

    <dt><code>observed</code>:</dt>
<dd><p>matrix of size <code>length(epoch)</code> times the
      number of regions containing the weekly/monthly number of counts in
      each region. The colnames of the matrix should match the ID values of
      the shapes in the <code>map</code> slot.</p></dd>

    <dt><code>state</code>:</dt>
<dd><p>matrix with the same dimensions as <code>observed</code>
      containing Booleans whether at the specific time point there was an
      outbreak in the region.</p></dd>

    <dt><code>alarm</code>:</dt>
<dd><p>matrix with the same dimensions as
      <code>observed</code> specifying whether an outbreak detection algorithm
      declared a specific time point in the region as having an alarm.</p></dd>

    <dt><code>upperbound</code>:</dt>
<dd><p>matrix with upper-bound values.</p></dd>

    <dt><code>neighbourhood</code>:</dt>
<dd><p>symmetric matrix of size
      \((number of regions)^2\) describing the neighbourhood structure. It
      may either be a binary adjacency matrix or contain neighbourhood orders
      (see the Examples for how to infer the latter from the <code>map</code>).</p></dd>

    <dt><code>populationFrac</code>:</dt>
<dd><p><code>matrix</code> of population
      fractions or absolute numbers (see <code>multinomialTS</code> below)
      with dimensions <code>dim(observed)</code>.</p></dd>

    <dt><code>map</code>:</dt>
<dd><p>object of class <code>"<a href="https://edzer.github.io/sp/reference/SpatialPolygons-class.html" class="external-link">SpatialPolygons</a>"</code>
      (or <code>"<a href="https://edzer.github.io/sp/reference/SpatialPolygonsDataFrame-class.html" class="external-link">SpatialPolygonsDataFrame</a>"</code>)
      providing a shape of the areas which are monitored or modelled.</p></dd>

    <dt><code>control</code>:</dt>
<dd><p><code><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></code> of settings; this is a
      rather free data type to be returned by the surveillance algorithms.</p></dd>

    <dt><code>epochAsDate</code>:</dt>
<dd><p>a Boolean indicating
      if the <code>epoch</code> slot corresponds to <code>Date</code>s.</p></dd>

    <dt><code>multinomialTS</code>:</dt>
<dd><p>a Boolean
      stating whether to interpret the object as <code>observed</code> out of
      <code>population</code>, i.e. a multinomial interpretation instead of a
      count interpretation.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>


<p></p><div class="section">
<h3 id="extraction-of-slots">Extraction of slots<a class="anchor" aria-label="anchor" href="#extraction-of-slots"></a></h3>
<p>There is an extraction (and replacement) method for almost every slot.
  The name of the method corresponds to the slot name, with three exceptions:
  the <code>freq</code> slot can be extracted by <code><a href="https://rdrr.io/r/stats/time.html" class="external-link">frequency()</a></code>,
  the <code>populationFrac</code> slot is accessed by <code><a href="stsSlots.html">population()</a></code>,
  and the <code>alarm</code> slot is accessed by <code><a href="stsSlots.html">alarms()</a></code>.</p>
<p></p><dl><dt>epoch</dt>
<dd><p><code>signature(x = "sts")</code>:
      extract the <code>epoch</code> slot. If the <code>sts</code> object is indexed
      by dates (<code>epochAsDate</code> = TRUE), the returned vector is of
      class <code>Date</code>, otherwise numeric (usually the integer
      sequence <code>1:nrow(x)</code>).<br>
      By explicitly requesting <code>epoch(x, as.Date = TRUE)</code>, dates
      can also be extracted if the <code>sts</code> object is not internally
      indexed by dates but has a standard frequency of 12 (monthly) or
      52 (weekly). The transformation is based on <code>start</code> and
      <code>freq</code> and will return the first day of each month
      (<code>freq=12</code>) and the Monday of each week (<code>freq=52</code>),
      respectively.</p></dd>

    <dt>frequency</dt>
<dd><p><code>signature(x = "sts")</code>:
      extract the <code>freq</code> slot.</p></dd>

    <dt>start</dt>
<dd><p><code>signature(x = "sts")</code>:
      extract the <code>start</code> slot.</p></dd>

    <dt>observed</dt>
<dd><p><code>signature(x = "sts")</code>:
      extract the <code>observed</code> slot.</p></dd>

    <dt>alarms</dt>
<dd><p><code>signature(x = "sts")</code>:
      extract the <code>alarm</code> slot.</p></dd>

    <dt>upperbound</dt>
<dd><p><code>signature(x = "sts")</code>:
      extract the <code>upperbound</code> slot.</p></dd>

    <dt>neighbourhood</dt>
<dd><p><code>signature(x = "sts")</code>:
      extract the <code>neighbourhood</code> slot.</p></dd>

    <dt>population</dt>
<dd><p><code>signature(x = "sts")</code>:
      extract the <code>populationFrac</code> slot.</p></dd>

    <dt>control</dt>
<dd><p><code>signature(x = "sts")</code>:
      extract the <code>control</code> slot.</p></dd>

    <dt>multinomialTS</dt>
<dd><p><code>signature(x = "sts")</code>:
      extract the <code>multinomialTS</code> slot.</p></dd>


</dl><p></p>
</div>

<p></p><div class="section">
<h3 id="other-extraction-methods">Other extraction methods<a class="anchor" aria-label="anchor" href="#other-extraction-methods"></a></h3>
<p></p><dl><dt>dim</dt>
<dd><p><code>signature(x = "sts")</code>:
      extract matrix dimensions of <code>observed</code>.
      This method also enables <code>nrow(x)</code> and <code>ncol(x)</code>.</p></dd>

    <dt>dimnames</dt>
<dd><p><code>signature(x = "sts")</code>:
      extract the <code><a href="https://rdrr.io/r/base/dimnames.html" class="external-link">dimnames</a></code> of the <code>observed</code> matrix.
      This method also enables <code>rownames(x)</code> and <code>colnames(x)</code>.</p></dd>

    <dt>year</dt>
<dd><p><code>signature(x = "sts")</code>:
      extract the corresponding year of each observation.</p></dd>

    <dt>epochInYear</dt>
<dd><p><code>signature(x = "sts")</code>:
      extract the epoch number within the year.
      This corresponds to <code><a href="https://rdrr.io/r/stats/time.html" class="external-link">cycle</a>(as.ts(x))</code>.</p></dd>


    <dt>[</dt>
<dd><p><code>signature(x = "sts")</code>:
      subset rows (time points) and/or columns (units),
      see <code>help("<a href="stsXtrct.html">[,sts-method</a>")</code>.</p></dd>


</dl><p></p>
</div>

<p></p><div class="section">
<h3 id="transformation-methods">Transformation methods<a class="anchor" aria-label="anchor" href="#transformation-methods"></a></h3>
<p></p><dl><dt>aggregate</dt>
<dd><p><code>signature(x = "sts")</code>:
      see <code><a href="stsAggregate.html">aggregate.sts</a></code>.</p></dd>


    <dt>as.data.frame</dt>
<dd><p><code>signature(x = "sts")</code>:
      the default <code>as.data.frame</code> call will collect the following
      slots into a data frame: <code>observed</code>, <code>epoch</code>,
      <code>state</code>, <code>alarm</code>, <code>upperbound</code>, and
      <code>populationFrac</code>. Additional columns will be created for
      <code>freq</code> (potentially varying by year for weekly or daily data
      if <code>x@epochAsDate</code> is <code>TRUE</code>) and
      <code>epochInPeriod</code> (the epoch fraction within the current year).<br>
      Calling the <code>as.data.frame</code> method with the argument
      <code>tidy = TRUE</code> will return <code><a href="sts_tidy.html">tidy.sts</a>(x)</code>,
      which reshapes multivariate <code>sts</code> objects to the
      “long” format (one row per epoch and observational unit).
      The tidy format is particularly useful for standard regression
      models and customized plotting.</p></dd>


    <dt>coerce</dt>
<dd><p><code>signature(from="sts", to="ts")</code> and
      <code>signature(from="ts", to="sts")</code>,
      to be called via <code>as(stsObj, "ts")</code> (or <code>as.ts(stsObj)</code>)
      and <code>as(tsObj, "sts")</code>, respectively.</p></dd>


    <dt>as.xts</dt>
<dd><p>convert to the <a href="https://CRAN.R-project.org/package=xts" class="external-link"><span class="pkg">xts</span></a> package format.</p></dd>


</dl><p></p>
</div>

<p></p><div class="section">
<h3 id="visualization-methods">Visualization methods<a class="anchor" aria-label="anchor" href="#visualization-methods"></a></h3>
<p></p><dl><dt>plot</dt>
<dd><p><code>signature(x = "sts", y = "missing")</code>:
      entry point to a collection of plot variants.
      The <code>type</code> of plot is specified using a formula,
      see <code><a href="stsplot.html">plot.sts</a></code> for details.</p></dd>

    <dt>autoplot</dt>
<dd><p>a <a href="https://CRAN.R-project.org/package=ggplot2" class="external-link"><span class="pkg">ggplot2</span></a> variant of the standard
      time-series-type plot, see <code><a href="sts_ggplot.html">autoplot.sts</a></code>.</p></dd>

    <dt>animate</dt>
<dd><p>see <code><a href="sts_animate.html">animate.sts</a></code>.</p></dd>

    <dt>toLatex</dt>
<dd><p>see <code><a href="toLatex.sts.html">toLatex.sts</a></code>.</p></dd>


</dl><p></p>
</div>


    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Michael Höhle and Sebastian Meyer</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu"><a href="https://rdrr.io/r/methods/RClassUtils.html" class="external-link">showClass</a></span><span class="op">(</span><span class="st">"sts"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## create an sts object from time-series data</span></span>
<span><span class="va">salmonellaDF</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/salmonella.agona.txt"</span>,</span>
<span>                                       package <span class="op">=</span> <span class="st">"surveillance"</span><span class="op">)</span>, header <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">salmonellaDF</span><span class="op">)</span></span>
<span><span class="va">salmonella</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">salmonellaDF</span>,</span>
<span>                   <span class="fu">sts</span><span class="op">(</span>observed <span class="op">=</span> <span class="va">observed</span>, state <span class="op">=</span> <span class="va">state</span>,</span>
<span>                       start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1990</span>, <span class="fl">1</span><span class="op">)</span>, frequency <span class="op">=</span> <span class="fl">52</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">salmonella</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">salmonella</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## these data are also available as a legacy "disProg" object in the package</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">salmonella.agona</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">salmonella</span>, <span class="fu"><a href="disProg2sts.html">disProg2sts</a></span><span class="op">(</span><span class="va">salmonella.agona</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## A typical dataset with weekly counts of measles from several districts</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"measlesWeserEms"</span><span class="op">)</span></span>
<span><span class="va">measlesWeserEms</span></span>
<span></span>
<span><span class="co">## reconstruct data("measlesWeserEms") from its components</span></span>
<span><span class="va">counts</span> <span class="op">&lt;-</span> <span class="fu"><a href="stsSlots.html">observed</a></span><span class="op">(</span><span class="va">measlesWeserEms</span><span class="op">)</span></span>
<span><span class="va">map</span> <span class="op">&lt;-</span> <span class="va">measlesWeserEms</span><span class="op">@</span><span class="va">map</span></span>
<span><span class="va">populationFrac</span> <span class="op">&lt;-</span> <span class="fu"><a href="stsSlots.html">population</a></span><span class="op">(</span><span class="va">measlesWeserEms</span><span class="op">)</span></span>
<span><span class="va">weserems_nbOrder</span> <span class="op">&lt;-</span> <span class="fu"><a href="stsSlots.html">neighbourhood</a></span><span class="op">(</span><span class="va">measlesWeserEms</span><span class="op">)</span></span>
<span><span class="co">## orders of adjacency can also be determined from the map</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"spdep"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">weserems_nbOrder</span>,</span>
<span>                        <span class="fu"><a href="nbOrder.html">nbOrder</a></span><span class="op">(</span><span class="fu"><a href="poly2adjmat.html">poly2adjmat</a></span><span class="op">(</span><span class="va">map</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">mymeasles</span> <span class="op">&lt;-</span> <span class="fu">sts</span><span class="op">(</span><span class="va">counts</span>, start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2001</span>, <span class="fl">1</span><span class="op">)</span>, frequency <span class="op">=</span> <span class="fl">52</span>,</span>
<span>                 population <span class="op">=</span> <span class="va">populationFrac</span>,</span>
<span>                 neighbourhood <span class="op">=</span> <span class="va">weserems_nbOrder</span>, map <span class="op">=</span> <span class="va">map</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">mymeasles</span>, <span class="va">measlesWeserEms</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## convert ts/mts object to sts</span></span>
<span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="fl">300</span>,<span class="fl">10</span><span class="op">)</span>, <span class="fl">100</span>, <span class="fl">3</span><span class="op">)</span>, start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1961</span>, <span class="fl">1</span><span class="op">)</span>, frequency <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></span>
<span><span class="va">z.sts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/methods/as.html" class="external-link">as</a></span><span class="op">(</span><span class="va">z</span>, <span class="st">"sts"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">z.sts</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## conversion of "sts" objects to the quasi-standard "xts" class</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"xts"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">z.xts</span> <span class="op">&lt;-</span> <span class="fu">as.xts.sts</span><span class="op">(</span><span class="va">z.sts</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">z.xts</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Maintained by <a href="https://www.imbe.med.fau.de/person/sebastian-meyer" class="external-link">Sebastian Meyer</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.9000. Hosted on <a href="https://R-forge.R-project.org/projects/surveillance/" class="external-link"><img src="https://r-forge.r-project.org/themes/rforge/imagesrf/logo.png" height="18" alt="R-Forge"></a></p>
</div>

    </footer></div>



  </body></html>

