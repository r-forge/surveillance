<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Verbose and Parallel lapply — plapply • surveillance</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Verbose and Parallel lapply — plapply"><meta name="description" content="Verbose and parallelized version of lapply wrapping around
mclapply and parLapply
in the base package parallel.
This wrapper can take care of the .Random.seed and
print progress information (not for cluster-based parallelization).
With the default arguments it equals lapply
enriched by a progress bar."><meta property="og:description" content="Verbose and parallelized version of lapply wrapping around
mclapply and parLapply
in the base package parallel.
This wrapper can take care of the .Random.seed and
print progress information (not for cluster-based parallelization).
With the default arguments it equals lapply
enriched by a progress bar."><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@bastistician"><meta name="twitter:site" content="@bastistician"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">surveillance</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.23.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/pkgdown/overview.html">Overview</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/pkgdown/events.html">Events</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/pkgdown/bibliography.html">Bibliography</a></li>
      </ul><ul class="navbar-nav"></ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Verbose and Parallel <code>lapply</code></h1>

      <div class="d-none name"><code>plapply.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Verbose and parallelized version of <code>lapply</code> wrapping around
<code><a href="https://rdrr.io/r/parallel/mclapply.html" class="external-link">mclapply</a></code> and <code><a href="https://rdrr.io/r/parallel/clusterApply.html" class="external-link">parLapply</a></code>
in the base package <span class="pkg">parallel</span>.
This wrapper can take care of the <code>.Random.seed</code> and
print progress information (not for cluster-based parallelization).
With the default arguments it equals <code>lapply</code>
enriched by a progress bar.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plapply</span><span class="op">(</span><span class="va">X</span>, <span class="va">FUN</span>, <span class="va">...</span>,</span>
<span>        .parallel <span class="op">=</span> <span class="fl">1</span>, .seed <span class="op">=</span> <span class="cn">NULL</span>, .verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-x-fun-">X,FUN,...<a class="anchor" aria-label="anchor" href="#arg-x-fun-"></a></dt>
<dd><p>see <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></code>.</p></dd>

  <dt id="arg--parallel">.parallel<a class="anchor" aria-label="anchor" href="#arg--parallel"></a></dt>
<dd><p>the number of processes to use in parallel operation, or a
    <code>"cluster"</code> object (see <code><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">makeCluster</a></code>).
    If a number, <code><a href="https://rdrr.io/r/parallel/mclapply.html" class="external-link">mclapply</a></code> (forking) is used on
    Unix-alikes, whereas on Windows <code><a href="https://rdrr.io/r/parallel/clusterApply.html" class="external-link">parLapply</a></code> is
    used on a newly created cluster of the specified size, which is
    stopped when exiting the function.
    By default (<code>.parallel = 1</code>), the basic <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></code> is used.</p></dd>

  <dt id="arg--seed">.seed<a class="anchor" aria-label="anchor" href="#arg--seed"></a></dt>
<dd><p>If set (non-<code>NULL</code>), results involving random number generation
    become reproducible. If using a cluster (see the <code>.parallel</code>
    argument), <code><a href="https://rdrr.io/r/parallel/RngStream.html" class="external-link">clusterSetRNGStream</a></code> is called
    with the specified <code>.seed</code> before running <code>parLapply</code>.
    Otherwise, <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a>(.seed)</code> is called and the
    <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">RNGkind</a></code> is changed to <code>"L'Ecuyer-CMRG"</code> if
    <code>.parallel &gt; 1</code> (see the section on random numbers in the
    documentation of <code>mcparallel</code> in package <span class="pkg">parallel</span>).
    <!-- % no link to mcparallel since it is not available on Windows (R-3.1.2) -->
    If <code>.seed</code> is non-<code>NULL</code>,
    the original <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">.Random.seed</a></code> will be restored
    <code>on.exit</code> of the function.</p></dd>

  <dt id="arg--verbose">.verbose<a class="anchor" aria-label="anchor" href="#arg--verbose"></a></dt>
<dd><p>if and how progress information should be displayed, i.e., what to
    do on each exit of <code>FUN</code>. This is unsupported and ignored for
    cluster-based parallelization and primitive <code>FUN</code>ctions.
    The default (<code>TRUE</code>) will show a <code><a href="https://rdrr.io/r/utils/txtProgressBar.html" class="external-link">txtProgressBar</a></code>
    (if <code>.parallel = 1</code> in an <code><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></code> <span style="R">R</span> session)
    or <code>cat(".")</code> (otherwise). Other choices for the dot are possible
    by specifying the desired symbol directly as the <code>.verbose</code>
    argument. Alternatively, <code>.verbose</code> may be any custom call or
    expression to be executed <code><a href="https://rdrr.io/r/base/on.exit.html" class="external-link">on.exit</a></code> of <code>FUN</code> and
    may thus involve any objects from the local evaluation environment.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a list of the results of calling <code>FUN</code> on each value of <code>X</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Sebastian Meyer</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/parallel/mclapply.html" class="external-link">mclapply</a></code> and <code><a href="https://rdrr.io/r/parallel/clusterApply.html" class="external-link">parLapply</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co">## example inspired by help("lapply")</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, beta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>, logic <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>,<span class="cn">FALSE</span>,<span class="cn">FALSE</span>,<span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## if neither parallel nor verbose then this simply equals lapply()</span></span>
<span><span class="fu">plapply</span><span class="op">(</span><span class="va">x</span>, <span class="va">quantile</span>, probs <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">/</span><span class="fl">4</span>, .verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## verbose lapply() -- not really useful for such fast computations</span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">plapply</span><span class="op">(</span><span class="va">x</span>, <span class="va">quantile</span>, probs <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">/</span><span class="fl">4</span>, .verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">plapply</span><span class="op">(</span><span class="va">x</span>, <span class="va">quantile</span>, probs <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">/</span><span class="fl">4</span>, .verbose <span class="op">=</span> <span class="st">"|"</span><span class="op">)</span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">plapply</span><span class="op">(</span><span class="va">x</span>, <span class="va">quantile</span>, probs <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">/</span><span class="fl">4</span>,</span>
<span>               .verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">quote</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"length(x) ="</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## setting the seed for reproducibility of results involving the RNG</span></span>
<span><span class="va">samp</span> <span class="op">&lt;-</span> <span class="fu">plapply</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>, <span class="va">runif</span>, .seed <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## parallel lapply()</span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">plapply</span><span class="op">(</span><span class="va">x</span>, <span class="va">quantile</span>, probs <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">/</span><span class="fl">4</span>, .parallel <span class="op">=</span> <span class="fl">2</span>, .verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## using a predefined cluster</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st">"parallel"</span><span class="op">)</span></span>
<span><span class="va">cl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">makeCluster</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"cl.cores"</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">plapply</span><span class="op">(</span><span class="va">x</span>, <span class="va">quantile</span>, probs <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">/</span><span class="fl">4</span>, .parallel <span class="op">=</span> <span class="va">cl</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">stopCluster</a></span><span class="op">(</span><span class="va">cl</span><span class="op">)</span></span></code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Maintained by <a href="https://www.imbe.med.fau.de/person/sebastian-meyer" class="external-link">Sebastian Meyer</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.9000. Hosted on <a href="https://R-forge.R-project.org/projects/surveillance/" class="external-link"><img src="https://r-forge.r-project.org/themes/rforge/imagesrf/logo.png" height="18" alt="R-Forge"></a></p>
</div>

    </footer></div>



  </body></html>

