<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>1861 Measles Epidemic in the City of Hagelloch, Germany — hagelloch • surveillance</title>
<script src="../deps/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="../deps/bs3compat-0.2.4/tabs.js"></script><script src="../deps/bs3compat-0.2.4/bs3compat.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css">
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<link href="../syntax-highlighting.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="1861 Measles Epidemic in the City of Hagelloch, Germany — hagelloch">
<meta property="og:description" content='Data on the 188 cases in the measles outbreak among children in the
  German city of Hagelloch (near Tübingen) 1861. The data were
  originally collected by Dr. Albert Pfeilsticker (1863) and augmented and
  re-analysed by Dr. Heike Oesterle (1992).
  This dataset is used to illustrate the twinSIR model class in
  vignette("twinSIR").'>
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@bastistician">
<meta name="twitter:site" content="@bastistician">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc" data-headroom data-tolerance="5" data-offset="100">
    

      <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a class="navbar-brand mb-0 h1" href="../index.html">surveillance</a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <button type="button" id="version-badge" class="badge badge-default d-none d-lg-block" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Released version">1.19.1</button>

    <div id="navbar" class="collapse navbar-collapse">
      <ul class="navbar-nav mr-auto ml-3">
<li class="nav-item">
  <a class="nav-link" href="../articles/pkgdown/overview.html">Overview</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/pkgdown/events.html">Events</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/pkgdown/bibliography.html">Bibliography</a>
</li>
      </ul>
<ul class="navbar-nav ml-1"></ul>
</div>
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header pb-2 mt-4 mb-2 border-bottom toc-ignore">
    <h1 class="display-4">1861 Measles Epidemic in the City of Hagelloch, Germany</h1>
    
    <div class="d-none name"><code>hagelloch.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Data on the 188 cases in the measles outbreak among children in the
  German city of Hagelloch (near Tübingen) 1861. The data were
  originally collected by Dr. Albert Pfeilsticker (1863) and augmented and
  re-analysed by Dr. Heike Oesterle (1992).
  This dataset is used to illustrate the <code>twinSIR</code> model class in
  <code>vignette("twinSIR")</code>.</p>
    </div>

    <pre class="usage"><code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"hagelloch"</span><span class="op">)</span></code></pre>


    <h2 class="hasAnchor" id="format">
<a class="anchor" href="#format"></a>Format</h2>

    <p>Loading <code><a href="https://rdrr.io/r/utils/data.html">data("hagelloch")</a></code> gives two objects:
  <code>hagelloch</code> and <code>hagelloch.df</code>.
  The latter is the original <code>data.frame</code> of 188 rows
  with individual information for each infected child.
  <code>hagelloch</code> has been generated from <code>hagelloch.df</code>
  via <code><a href="epidata.html">as.epidata</a></code> (see the Examples below) to obtain an
  <code>"epidata"</code> object for use with <code><a href="twinSIR.html">twinSIR</a></code>.
  It contains the entire SIR event history of the outbreak
  (but not all of the covariates).</p>
<p>The covariate information in <code>hagelloch.df</code> is as follows:</p>  
<p></p>
<dl>
<dt>PN:</dt>
<dd><p>patient number</p></dd>
    <dt>NAME:</dt>
<dd><p>patient name (as a factor)</p></dd>
    <dt>FN:</dt>
<dd><p>family index</p></dd>
    <dt>HN:</dt>
<dd><p>house number</p></dd>
    <dt>AGE:</dt>
<dd><p>age in years</p></dd>
    <dt>SEX:</dt>
<dd><p>gender of the individual (factor: male, female)</p></dd>
    <dt>PRO:</dt>
<dd><p><code>Date</code> of prodromes</p></dd>
    <dt>ERU:</dt>
<dd><p><code>Date</code> of rash</p></dd>
    <dt>CL:</dt>
<dd><p>class (factor: preschool, 1st class, 2nd class)</p></dd>
    <dt>DEAD:</dt>
<dd><p><code>Date</code> of death (with missings)</p></dd>
    <dt>IFTO:</dt>
<dd><p>number of patient who is the putative source of infection (0 = unknown)</p></dd>
    <dt>SI:</dt>
<dd><p>serial interval = number of days between dates of prodromes of infection source and infected person</p></dd>
    <dt>C:</dt>
<dd><p>complications (factor: no complications, bronchopneumonia, severe bronchitis, lobar pneumonia, pseudocroup, cerebral edema)</p></dd>
    <dt>PR:</dt>
<dd><p>duration of prodromes in days</p></dd>
    <dt>CA:</dt>
<dd><p>number of cases in family</p></dd>
    <dt>NI:</dt>
<dd><p>number of initial cases</p></dd>
    <dt>GE:</dt>
<dd><p>generation number of the case</p></dd>
    <dt>TD:</dt>
<dd><p>day of max. fever (days after rush)</p></dd>
    <dt>TM:</dt>
<dd><p>max. fever (degree Celsius)</p></dd>
    <dt>x.loc:</dt>
<dd><p>x coordinate of house (in meters). Scaling in metres
      is obtained by multiplying the original coordinates by 2.5 (see details
      in Neal and Roberts (2004))</p></dd>
    <dt>y.loc:</dt>
<dd><p>y coordinate of house (in meters). See also the above
      description of <code>x.loc</code>.</p></dd>
    <dt>tPRO:</dt>
<dd><p>Time of prodromes (first symptoms) in days after the start of the
      epidemic (30 Oct 1861).</p></dd>
    <dt>tERU:</dt>
<dd><p>Time upon which the rash first appears.</p></dd>
    <dt>tDEAD:</dt>
<dd><p>Time of death, if available.</p></dd>
    <dt>tR:</dt>
<dd><p>Time at which the infectious period of the individual is
      assumed to end. This unknown time is calculated as
      $$tR_i = \min{tDEAD_i,tERU_i+d_0},$$
      where -- as in Section 3.1 of Neal and Roberts (2004) -- we use
      \(d_0=3\).</p></dd>
    <dt>tI:</dt>
<dd><p>Time at which the individual is assumed to become
      infectious. Actually this time is unknown, but we use
      $$tI_i = tPRO_i - d_1,$$ 
      where \(d_1=1\) as in Neal and Roberts (2004).</p></dd>
  
</dl>
<p>The time variables describe the transitions of the individual in an
  Susceptible-Infectious-Recovered (SIR) model.  Note that in
  order to avoid ties in the event times resulting from daily
  interval censoring, the times have been jittered uniformly within the
  respective day. The time point 0.5 would correspond to noon of 30 Oct 1861.</p>
<p>The <code>hagelloch</code> <code>"epidata"</code> object only retains some of
  the above covariates to save space. Apart from the usual
  <code>"epidata"</code> event columns, <code>hagelloch</code> contains a number of
  extra variables representing distance- and covariate-based weights for
  the force of infection:</p>
<dl>
<dt>household:</dt>
<dd><p>the number of currently infectious children in the same
      household (including the child itself if it is currently infectious).</p></dd>
    <dt>nothousehold:</dt>
<dd><p>the number of currently infectious children
      outside the household.</p></dd>
    <dt>c1, c2:</dt>
<dd><p>the number of children infectious during the respective
      time block and being members of class 1 and 2, respectively; but
      the value is 0 if the individual of the row is not herself a
      member of the respective class.</p></dd>
  
</dl>
<p>Such epidemic covariates can been computed by specifying suitable
  <code>f</code> and <code>w</code> arguments in <code><a href="epidata.html">as.epidata</a></code> at
  conversion (see the code below), or at a later step via the
  <code><a href="epidata.html">update</a></code>-method for <code>"epidata"</code>.</p>
    <h2 class="hasAnchor" id="source">
<a class="anchor" href="#source"></a>Source</h2>

    <p>Thanks to Peter J. Neal, University of Manchester, for providing us
  with these data, which he again became from Niels Becker, Australian
  National University. To cite the data, the main references are Pfeilsticker
  (1863) and Oesterle (1992).</p>
    <h2 class="hasAnchor" id="references">
<a class="anchor" href="#references"></a>References</h2>

    <p>Pfeilsticker, A. (1863). Beiträge zur Pathologie der Masern mit
  besonderer Berücksichtigung der statistischen Verhältnisse,
  M.D. Thesis, Eberhard-Karls-Universität Tübingen.
  Available as <a href="https://archive.org/details/beitrgezurpatho00pfeigoog">https://archive.org/details/beitrgezurpatho00pfeigoog</a>.</p>  
<p>Oesterle, H. (1992). Statistische Reanalyse einer Masernepidemie 1861
  in Hagelloch, M.D. Thesis, Eberhard-Karls-Universitäat
  Tübingen.</p>
<p>Neal, P. J. and Roberts, G. O (2004). Statistical inference and model
  selection for the 1861 Hagelloch measles epidemic, Biostatistics
  5(2):249-261</p>
    <h2 class="hasAnchor" id="see-also">
<a class="anchor" href="#see-also"></a>See also</h2>

    <div class="dont-index">
<p>data class: <code><a href="epidata.html">epidata</a></code></p>  
<p>point process model: <code><a href="twinSIR.html">twinSIR</a></code></p>  
<p>illustration with <code>hagelloch</code>: <code>vignette("twinSIR")</code></p>
</div>

    <h2 class="hasAnchor" id="examples">
<a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"hagelloch"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">hagelloch.df</span><span class="op">)</span>   <span class="co"># original data documented in Oesterle (1992)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">hagelloch</span><span class="op">)</span><span class="op">)</span>   <span class="co"># "epidata" event history format</span>

<span class="co">## How the "epidata" 'hagelloch' was created from 'hagelloch.df'</span>
<span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html">all.equal</a></span><span class="op">(</span><span class="va">hagelloch</span>,
  <span class="fu"><a href="epidata.html">as.epidata</a></span><span class="op">(</span>
    <span class="va">hagelloch.df</span>, t0 <span class="op">=</span> <span class="fl">0</span>, tI.col <span class="op">=</span> <span class="st">"tI"</span>, tR.col <span class="op">=</span> <span class="st">"tR"</span>,
    id.col <span class="op">=</span> <span class="st">"PN"</span>, coords.cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"x.loc"</span>, <span class="st">"y.loc"</span><span class="op">)</span>,
    f <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
        household    <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">u</span><span class="op">)</span> <span class="va">u</span> <span class="op">==</span> <span class="fl">0</span>,
        nothousehold <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">u</span><span class="op">)</span> <span class="va">u</span> <span class="op">&gt;</span> <span class="fl">0</span>
    <span class="op">)</span>,
    w <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
        c1 <span class="op">=</span> <span class="kw">function</span> <span class="op">(</span><span class="va">CL.i</span>, <span class="va">CL.j</span><span class="op">)</span> <span class="va">CL.i</span> <span class="op">==</span> <span class="st">"1st class"</span> <span class="op">&amp;</span> <span class="va">CL.j</span> <span class="op">==</span> <span class="va">CL.i</span>,
        c2 <span class="op">=</span> <span class="kw">function</span> <span class="op">(</span><span class="va">CL.i</span>, <span class="va">CL.j</span><span class="op">)</span> <span class="va">CL.i</span> <span class="op">==</span> <span class="st">"2nd class"</span> <span class="op">&amp;</span> <span class="va">CL.j</span> <span class="op">==</span> <span class="va">CL.i</span>
    <span class="op">)</span>,
    keep.cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"SEX"</span>, <span class="st">"AGE"</span>, <span class="st">"CL"</span><span class="op">)</span><span class="op">)</span>
<span class="op">)</span><span class="op">)</span>


<span class="co">### Basic plots produced from hagelloch.df</span>

<span class="co"># Show case locations as in Neal &amp; Roberts (different scaling) using</span>
<span class="co"># the data.frame (promoted to a SpatialPointsDataFrame)</span>
<span class="fu">coordinates</span><span class="op">(</span><span class="va">hagelloch.df</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"x.loc"</span>,<span class="st">"y.loc"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">hagelloch.df</span>, xlab<span class="op">=</span><span class="st">"x [m]"</span>, ylab<span class="op">=</span><span class="st">"x [m]"</span>, pch<span class="op">=</span><span class="fl">15</span>, axes<span class="op">=</span><span class="cn">TRUE</span>,
     cex<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fu"><a href="multiplicity.html">multiplicity</a></span><span class="op">(</span><span class="va">hagelloch.df</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Epicurve</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">hagelloch.df</span><span class="op">$</span><span class="va">tI</span><span class="op">)</span>, xlab<span class="op">=</span><span class="st">"Time (days)"</span>, ylab<span class="op">=</span><span class="st">"Cases"</span>, main<span class="op">=</span><span class="st">""</span><span class="op">)</span>


<span class="co">### "epidata" summary and plot methods</span>

<span class="op">(</span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">hagelloch</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">s</span><span class="op">$</span><span class="va">byID</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">s</span><span class="op">)</span>

<span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span>
  <span class="co"># Show a dynamic illustration of the spread of the infection</span>
  <span class="fu"><a href="animate.html">animate</a></span><span class="op">(</span><span class="va">hagelloch</span>, time.spacing<span class="op">=</span><span class="fl">0.1</span>, sleep<span class="op">=</span><span class="fl">1</span><span class="op">/</span><span class="fl">100</span>,
          legend.opts<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">"topleft"</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>
</code></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="sticky-top">
    <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>

    </nav>
</div>
  </div>
</div>


      <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Maintained by <a href="http://www.imbe.med.uni-erlangen.de/cms/sebastian_meyer.html" class="external-link">Sebastian Meyer</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>

