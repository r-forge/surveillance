######################################################################
# Text file containing a list of things to fix or items for additional
# implementation.
#
# $Date$
######################################################################


#======================================================================
#======================================================================
# general
#======================================================================
#======================================================================

#Open
26/07/2012 Fix pictex figure in surveillance.Rnw vignette
15/08/2012 package rgeos fails to load if surveillance and then maptools have
           been loaded before:
	   library("surveillance"); library("maptools"); library("rgeos")
	   gives
	   Error : package slot missing from signature for generic ‘plot’
	   and classes gpc.poly, ANY
	   cannot use with duplicate class names (the package may need to be re-installed)
	   Error: package/namespace load failed for ‘rgeos’
	   This seems to be related to the fact that rgeos also
	   contains an implementation of the gpc.poly class. However,
	   library("gpclib"); library("maptools"); library("rgeos")
	   works...
12/09/2012 more package tests

#Done


###########
# Wishlist
###########

#Open
11/11/2011 Author@R field in the ‘DESCRIPTION’ file.
           CAVE: not supported with R < 2.14.0 => wait some time
02/11/2011 plot for sts objects which contains daily data as Date obj

#Done
21/04/2011 incorporate a NAMESPACE :) (as of R 2.14.0 this is obligatory)
19/06/2012 move vignettes into a vignettes directory or create .Rinstignore
           (as of R 2.14.0 the preferred location for vignette sources is
            directory ‘vignettes’ and not ‘inst/doc’)



#======================================================================
#======================================================================
# twinSIR
#======================================================================
#======================================================================

########
# Bugs
########

#Open
04/04/2011 osAIC computation by simulation does not work in some
           cases where estimated coefficient is small (global in Hagelloch):
           m <- twinSIR(~ household + local1 + global1, data=hagelloch)
           AIC(m, nsim=10)   # sometimes this works, sometimes not (-> NA)
           Problems occur in the quadratic programming:
           Error in quadprog::solve.QP(Dmat = Winv, dvec = d, Amat = t(R), bvec = rep(0,  : 
             constraints are inconsistent, no solution!

#Fixed
25/03/2011 intensityPlot in twinSIR does not work if there are initially
           infectious individuals (as in the hagelloch data)
07/08/2012 simulation does not work on the fitted Hagelloch data. More
           specifically, it does not work when there are no endemic covariates.


###########
# Features
###########

#Open
05/04/2011 R0 calculations as for twinstim:
           how can we derive R0 in a twinSIR model? (-> Michael)
07/08/2012 analysis of hagelloch data in twinSIR examples (-> Michael)

#Done
07/08/2012 animate using animation package for objects of type "epidata"



#======================================================================
#======================================================================
# twinstim
#======================================================================
#======================================================================

############
#Bug reports
############

#Open

#Fixed
29/07/2010>> Summary/print fuer twinstim Objekte, die mit do.call
             erzeugt worden sind scheint nicht zu funktionieren.
             Siehe analyses-joint fuer Beispiele.
30/07/2010-fix>> alist
30/07/2010>> imdepi$events@data -- see email
30/07/2010>> Fitting twinstim models with epidemic component given by:
             epidemic=~ 0 -- see email.
10/08/2010 computing the cumulative intensity function at the end of
           the fit is VERY slow if model contains siaf component.  E.g. for best
           model having siaf_1 it takes about 60-90 minutes while the fit takes 5
           minutes. Possible to fix this??
16/04/2011 Use of finetune=TRUE appears not to lead to convergence. How to fix
           this? -> try with new argument nCub.adaptive=FALSE
xx/07/2012 R0 on an object containing agegrp as a factor variable
           in the epidemic component apparently does not work.
           -> new R0 implementation
07/08/2012 Simulate on a twinstim object without siaf (i.e. siaf=NULL)
      	   does not work. -> seems to work now after a bunch of bug fixes


##########
# Features
##########

#Open issues / feature requests
- implement step function support for interaction kernels
- allow for spatial "prehistory", i.e. events outside of W as possible sources
  in the epidemic component only, but otherwise not part of the likelihood
- intensityplot-method for simEpidataCS (through twinstim(*, optim.args=NULL)??)

#Done
06/08/2010 (sebastian): Lambda(t) function, i.e. cumulative intensity function
12/08/2010 (sebastian): speed-up calculation of tau importantly by only evaluating .siafInt(siafpars) once
08/11/2010 (sebastian): Implementation of simulation algorithm
05/04/2011 (sebastian): Plot method for epidataCS objects
08/04/2011 (michael): Implemented profile function as in twinSIR.
05/07/2012 (sebastian): intensityPlot as in twinSIR, i.e. on W integrated intensity (and its components) as a function of time, grouped by type
xx/07/2012 (sebastian): robustification of optim procedure by making it less
adaptive (nCub.adaptive can be set to FALSE)
xx/07/2012 (sebastian): Documentation of functions in Rd files; also update references (Biometrics)
15/08/2012 (sebastian): added support for fixed parameters



#======================================================================
#======================================================================
# hhh4
#======================================================================
#======================================================================

#Open
- add documentation for oneStepAhead predictions/scores
- improve and document plot/predict methods
- profiling of hhh4 ...
- remove redundant elements in control/stsObj/terms to reduce the
  size of ah4-objects
- add documentation for parametric neighbourhood weights


#======================================================================
#======================================================================
# outbreak detection
#======================================================================
#======================================================================


#======================================================================
#======================================================================
# back-projection
#======================================================================
#======================================================================


#======================================================================
#======================================================================
# nowcast
#======================================================================
#======================================================================

#Open
26/07/2012 Estimation of delay function taking right-censoring into account

#Done
